app.controller('RandomShowCtrl',['$scope', '$http', '$location', function($scope, $http, $location) {

  var url = "<%= ENV['URL'] %>" || "http://localhost:3000/";

  $scope.post = {};

  $scope.cross = function() {
    console.log("crossss");
    newUrl = url + 'posts/random';

    if ($scope.post.id !== undefined) {
      newUrl + '/' + $scope.post.id;
    }

    $http.get(newUrl).success(function(response){
      $scope.post = response;
      console.log(response);
    });
  };

  $scope.cross();

  $scope.tick = function() {

    console.log("tickkkkkk");
    newUrl = url + 'posts/' + $scope.post.id + '/likes';

    $http.post(newUrl).success(function(response){
      $scope.post = response;
      console.log(response);
    });
  };

}]);
